<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <title>JBTV - Kajian Islam & Pengumuman</title>

    <!-- Thumbnail for social media -->
    <meta property="og:title" content="JBTV - Kajian Islam & Pengumuman" />
    <meta property="og:description" content="Siaran langsung dan info kajian rutin dari JBTV." />
    <meta property="og:image" content="https://i.postimg.cc/L4bXV47w/Thumbnail-Website.png" />
    <!-- Ganti dengan URL gambarmu -->
    <meta property="og:url" content="https://jbtv-id.netlify.app" />
    <meta name="twitter:card" content="summary_large_image" />

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database-compat.js"></script>


    <style>
        :root {
            --color-bg-white: #ffffff;
            --color-bg-grey: #f7f7f7;
            --color-text: #333;
            --color-primary: #007bff;
            --color-dark: #343a40;
            --color-green: #28a745;
            --color-red: #dc3545;
            --color-blue: #17a2b8;
            --timeline-line-color: #e0e0e0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--color-bg-grey);
            color: var(--color-text);
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        h2 {
            font-size: 2.2em;
            text-align: center;
            margin-bottom: 40px;
            color: var(--color-dark);
        }

        .section-white {
            background-color: var(--color-bg-white);
        }

        .section-grey {
            background-color: var(--color-bg-grey);
        }

        .live-streaming-wrapper {
            text-align: center;
        }

        .video-container {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
        }

        .streaming-info {
            font-size: 0.9em;
            max-width: 700px;
            margin: 25px auto;
            text-align: center;
            font-style: no italic;
            color: #555;
        }

        h4 {
            font-size: 1em;
            text-align: center;
            margin-top: -40px;
            color: var(--color-dark);
        }

        .timeline-container {
            width: 100%;
        }

        .timeline-content {
            display: none;
        }

        .timeline-content.active {
            display: block;
        }

        .timeline {
            position: relative;
            list-style: none;
            padding-left: 40px;
            margin: 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 10px;
            top: 0;
            bottom: 0;
            width: 3px;
            background-color: var(--timeline-line-color);
            border-radius: 3px;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 30px;
        }

        .timeline-item::after {
            content: '';
            position: absolute;
            left: -35px;
            top: 5px;
            width: 13px;
            height: 13px;
            background-color: white;
            border: 3px solid var(--color-primary);
            border-radius: 50%;
            z-index: 1;
        }

        .timeline-item-content {
            background-color: var(--color-bg-white);
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #eee;
        }

        .timeline-tag {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 5px;
            font-size: 0.9em;
            font-weight: 600;
            margin-right: 8px;
            margin-bottom: 10px;
        }

        .tag-dark {
            background-color: var(--color-dark);
            color: white;
        }

        .tag-red {
            background-color: var(--color-red);
            color: white;
        }

        .tag-green {
            background-color: var(--color-green);
            color: white;
            margin-top: 10px;
        }

        .tag-blue {
            background-color: var(--color-blue);
            color: white;
        }

        .pengumuman-content {
            display: flex;
            gap: 20px;
            align-items: flex-start;
        }

        .pengumuman-flyer {
            width: 120px;
            height: auto;
            border-radius: 8px;
            object-fit: cover;
        }

        .pengumuman-details {
            flex: 1;
        }

        @media (max-width: 600px) {
            .pengumuman-content {
                flex-direction: column;
            }

            .pengumuman-flyer {
                width: 100%;
                max-width: 250px;
            }
        }

        .timeline-dropdown-wrapper {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
        }

        .custom-dropdown {
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            background-color: #ffffff;
            color: #333;
            padding: 12px 40px 12px 16px;
            font-size: 1em;
            font-weight: 600;
            border: 2px solid var(--color-primary);
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            background-image: url('data:image/svg+xml;charset=UTF-8,<svg width="16" height="16" fill="gray" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M1.5 5.5l6 6 6-6" stroke="gray" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg>');
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 16px;
            transition: border-color 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }

        .custom-dropdown:hover {
            border-color: #0056b3;
        }

        .wa-float-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            z-index: 9999;
            align-items: flex-end;
        }

        .wa-float {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            color: #fff;
            border-radius: 50px;
            font-weight: bold;
            text-decoration: none;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease;
            font-size: 14px;
        }

        .wa-float:hover {
            transform: scale(1.05);
        }

        .wa-ikhwan {
            background-color: #25D366;
        }

        .wa-akhwat {
            background-color: #128C7E;
        }

        .wa-label {
            background-color: #333;
            color: white;
            padding: 4px 10px;
            font-size: 12px;
            border-radius: 12px;
            margin-right: 5px;
            opacity: 0.8;
        }


        /* Tentang JBTV */
        .section-about p {
            font-size: 0.9em;
            max-width: 700px;
            margin: 25px auto;
            text-align: center;
            font-style: normal;
            color: #555;
            font-weight: normal;
            /* tambahkan ini jika ingin pastikan tidak bold */
        }


        /* Footer */
        footer {
            background-color: var(--color-dark);
            color: white;
            text-align: center;
            padding: 10px 0;
            font-size: 0.9em;
            font-style: normal;
            font-weight: normal;
            /* tambahkan ini jika ingin pastikan tidak bold */
        }
    </style>
</head>

<body>

    <!-- Section Video -->
    <section class="section-white">
        <div class="container live-streaming-wrapper">
            <h2></h2>
            <h4></h4>
            <div class="video-container">
                <iframe
                    src="https://www.facebook.com/plugins/video.php?href=https://web.facebook.com/jbtv17/videos/1048093734075136/"
                    frameborder="0" allowfullscreen></iframe>
            </div>


            <p class="streaming-info">
                Kami menyediakan siaran langsung dari youtube dan facebook yang bisa anda tonton di sini. Format video
                streaming memiliki variasi kualitas dan mengikuti kecepatan internet sehingga Anda bisa nyaman dalam
                menyimak <strong>streaming siaran JBTV.</strong> Anda juga bisa berkomentar di kolom komentar di bawah
                ini.
            </p>

            <!-- Section Komentar -->
            <section class="section-white">
                <div class="container">
                    <h2 style="font-size: 1.5em;  margin-top: -30px;"></h2>
                    <form id="commentForm" style="margin-top: -70px;">
                        <input type="text" id="name" placeholder="Nama Anda" required
                            style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc;">
                        <textarea id="comment" placeholder="Tulis komentar..." required
                            style="padding: 10px; width: 100%; height: 100px; border-radius: 5px; border: 1px solid #ccc;"></textarea>
                        <button type="submit"
                            style="padding: 10px 20px; background-color: #007bff; color: white; border: none; border-radius: 5px; margin-top: 20px; margin-bottom: 20px;">Kirim
                            Komentar</button>
                    </form>
                    <div id="commentsList"></div>
                </div>
            </section>

        </div>
    </section>

    <!-- Section Jadwal Kajian -->
    <section class="section-grey">
        <div class="container">
            <h2><strong>Jadwal Kajian Rutin</h2>
            <h4>Jadwal Kajian, 25 Juni - 1 Juli 2025</h4>

            <div class="timeline-container">
                <div class="timeline-nav timeline-dropdown-wrapper">
                    <select id="ustadzDropdown" onchange="openDropdownTab(event)" class="custom-dropdown">
                        <option value="ustad1">TGH. Suharni Abdul Manan, Lc.</option>
                        <option value="ustad2">Ust. Zamakhsyari Dhofir, Lc., M.A.</option>
                        <option value="ustad3">Ust. Ahmad Marwazi Manar, S.H., M.A.</option>
                    </select>
                </div>

                <div id="ustad1" class="timeline-content active">
                    <ul class="timeline">
                        <li class="timeline-item">
                            <div class="timeline-item-content">
                                <span class="timeline-tag tag-dark">Kajian Malam</span>
                                <span class="timeline-tag tag-red">Malam Ahad</span>
                                <div><span class="timeline-tag tag-green">Masjid Jami' Nurah Ali Al-Amir</span></div>
                            </div>
                        </li>
                        <li class="timeline-item">
                            <div class="timeline-item-content">
                                <span class="timeline-tag tag-dark">Kajian Sore</span>
                                <span class="timeline-tag tag-red">01 Juli 2025 | Setelah Ashar</span>
                                <div><span class="timeline-tag tag-green">Masjid Dasan Re</span></div>
                            </div>
                        </li>
                    </ul>
                </div>

                <div id="ustad2" class="timeline-content">
                    <ul class="timeline">
                        <li class="timeline-item">
                            <div class="timeline-item-content">
                                <span class="timeline-tag tag-dark">Kajian Ilmiah</span>
                                <span class="timeline-tag tag-red">Malam Kamis</span>
                                <div><span class="timeline-tag tag-green">Masjid Madang</span></div>
                            </div>
                        </li>
                        <li class="timeline-item">
                            <div class="timeline-item-content">
                                <span class="timeline-tag tag-dark">Kajian Ilmiah</span>
                                <span class="timeline-tag tag-red">Malam Jum'at</span>
                                <div><span class="timeline-tag tag-green">Masjid Rembate</span></div>
                            </div>
                        </li>
                        <li class="timeline-item">
                            <div class="timeline-item-content">
                                <span class="timeline-tag tag-dark">Kajian Ilmiah</span>
                                <span class="timeline-tag tag-red">Malam Sabtu</span>
                                <div><span class="timeline-tag tag-green">Masjid Dasan Bagek</span></div>
                            </div>
                        </li>
                        <li class="timeline-item">
                            <div class="timeline-item-content">
                                <span class="timeline-tag tag-dark">Kajian Ilmiah</span>
                                <span class="timeline-tag tag-red">Malam Senin</span>
                                <div><span class="timeline-tag tag-green">Masjid Banjarsari</span></div>
                            </div>
                        </li>
                        <li class="timeline-item">
                            <div class="timeline-item-content">
                                <span class="timeline-tag tag-dark">Kajian Ilmiah</span>
                                <span class="timeline-tag tag-red">Malam Selasa</span>
                                <div><span class="timeline-tag tag-green">Masjid Kampung Karya</span></div>
                            </div>
                        </li>
                    </ul>
                </div>

                <div id="ustad3" class="timeline-content">
                    <ul class="timeline">
                        <li class="timeline-item">
                            <div class="timeline-item-content">
                                <span class="timeline-tag tag-dark">Kajian Sore</span>
                                <span class="timeline-tag tag-red">Hari Kamis</span>
                                <div><span class="timeline-tag tag-green">Masjid Dasan Tembeng</span></div>
                            </div>
                        </li>
                        <li class="timeline-item">
                            <div class="timeline-item-content">
                                <span class="timeline-tag tag-dark">Kajian Malam</span>
                                <span class="timeline-tag tag-red">Malam Jum'at</span>
                                <div><span class="timeline-tag tag-green">Masjid An-Nur, Suralaga</span></div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Section Pengumuman -->
    <section class="section-white">
        <div class="container">
            <h2><strong>Pengumuman Penting</h2>
            <ul class="timeline">
                <li class="timeline-item">
                    <div class="timeline-item-content">
                        <div class="pengumuman-content">
                            <img src="https://lnk.ink/tablighakbar" alt="Flyer Kajian Akbar" class="pengumuman-flyer">
                            <div class="pengumuman-details">
                                <span class="timeline-tag tag-dark">Tabligh Akbar</span>
                                <span class="timeline-tag tag-blue">Pemateri: Ustadz Mubarak Bamualim, Lc.,
                                    M.H.I.</span>
                                <div><span class="timeline-tag tag-green">Kamis (Malam Jum'at), 26 Juni 2025 | Maghrib -
                                        Isya'</span></div>
                                <div><span class="timeline-tag tag-red">Masjid Jami' Nurah Ali Al-Amir</span></div>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </section>

    <!-- Section Tentang JBTV -->
    <section class="section-grey section-about">
        <div class="container">
            <h2><strong>Tentang JBTV</h2>
            <p style="text-align: center; max-width: 700px; margin-top: -0px;">
                <strong>JB TV</strong> adalah saluran media dakwah di bawah naungan Pondok Pesantren Jamaluddin, Bagik
                Nyaka. Tujuan kami adalah menyebarkan ilmu syar'i secara luas dan mudah diakses oleh umat. Kami
                berkomitmen untuk menghadirkan konten yang bermanfaat, terpercaya, dan sesuai dengan manhaj Ahlus Sunnah
                wal Jama'ah.
            </p>
        </div>
    </section>

    <!-- Tombol WA Melayang -->
    <div class="wa-float-container">
        <div class="wa-label">Group WA</div>
        <a href="https://chat.whatsapp.com/KIDegAern9GF0Z1wzkxoJ2" target="_blank" class="wa-float wa-ikhwan"
            title="Gabung Grup Ikhwan">
            <i class="fab fa-whatsapp"></i> Ikhwan
</a>

<a href="https://chat.whatsapp.com/Kmd1of6VpRi9kWxrnNXUdH" target="_blank" class="wa-float wa-akhwat"
            title="Gabung Grup Akhawat">
            <i class="fab fa-whatsapp"></i> Akhwat
        </a>
    </div>



    <!-- Footer -->
    <footer>
        <div class="container">
            &copy; 2025 JBTV | By: Muzanni
        </div>
    </footer>


    <script>
        function openDropdownTab(evt) {
            const selectedValue = evt.target.value;
            const tabcontent = document.getElementsByClassName("timeline-content");
            for (let i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            document.getElementById(selectedValue).style.display = "block";
        }

        document.addEventListener("DOMContentLoaded", function () {
            document.getElementById("ustadzDropdown").value = "ustad1";
            document.getElementById("ustad1").style.display = "block";

            // Firebase config
            const firebaseConfig = {
                apiKey: "AIzaSyAowVtnXTVstFSc3kSBTm5tXJkEvp31V2Y",
                authDomain: "streamingjbtv.firebaseapp.com",
                databaseURL: "https://streamingjbtv-default-rtdb.asia-southeast1.firebasedatabase.app",
                projectId: "streamingjbtv",
                storageBucket: "streamingjbtv.firebasestorage.app",
                messagingSenderId: "191301318558",
                appId: "1:191301318558:web:f32dada7468d8a4486088f",
                measurementId: "G-PBGDKCMQJT"
            };

            // Inisialisasi Firebase
            firebase.initializeApp(firebaseConfig);
            const db = firebase.database();

            const form = document.getElementById('commentForm');
            const commentsList = document.getElementById('commentsList');
            const isAdmin = window.location.search.includes('admin=true');

            form.addEventListener('submit', function (e) {
                e.preventDefault();
                const name = document.getElementById('name').value.trim();
                const comment = document.getElementById('comment').value.trim();
                if (name && comment) {
                    db.ref('comments').push({
                        name,
                        comment,
                        timestamp: Date.now(),
                        replies: []
                    });
                    form.reset();
                }
            });

            db.ref('comments').on('child_added', function (snapshot) {
                const data = snapshot.val();
                const key = snapshot.key;
                const el = document.createElement('div');
                el.style.marginBottom = '20px';

                const time = new Date(data.timestamp).toLocaleString('id-ID');

                el.innerHTML = `
  <div style="padding: 10px; background: #fff; border: 1px solid #ddd; border-radius: 6px; text-align: left;">
    <strong>${data.name}</strong> <small style="color: gray;">(${time})</small>
    <p style="margin: 5px 0;">${data.comment}</p>
    ${isAdmin ? `<button onclick="deleteComment('${key}')">Hapus</button>` : ""}
  </div>
`;

                commentsList.prepend(el);

                // tampilkan reply
                if (data.replies) {
                    const repliesContainer = el.querySelector(`#replies-${key}`);
                    data.replies.forEach(reply => {
                        const replyTime = new Date(reply.timestamp).toLocaleString('id-ID');
                        const replyEl = document.createElement('div');
                        replyEl.innerHTML = `
            <div style="border-left: 2px solid #007bff; padding-left: 10px; margin-bottom: 8px;">
              <strong>${reply.name}</strong> <small style="color: gray;">(${replyTime})</small><br>
              ${reply.comment}
            </div>
          `;
                        repliesContainer.appendChild(replyEl);
                    });
                }
            });

            // fungsi balas komentar
            window.replyTo = function (commentKey) {
                const name = prompt("Nama Anda:");
                const reply = prompt("Tulis balasan:");
                if (name && reply) {
                    const commentRef = db.ref('comments/' + commentKey + '/replies');
                    commentRef.once('value', function (snapshot) {
                        const existing = snapshot.val() || [];
                        existing.push({
                            name,
                            comment: reply,
                            timestamp: Date.now()
                        });
                        commentRef.set(existing);
                    });
                }
            };

            // fungsi hapus komentar (admin)
            window.deleteComment = function (commentKey) {
                if (confirm("Yakin ingin menghapus komentar ini?")) {
                    db.ref('comments/' + commentKey).remove();
                }
            };
        });
    </script>

</body>

</html>
